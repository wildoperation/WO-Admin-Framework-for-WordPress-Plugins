{"version":3,"file":"/dist/js/media.js","mappings":"AAAAA,OAAOC,UAAUC,OAAM,SAAUC,GACfA,EAAE,yBACVC,MAAK,WACb,IAAIC,EACEC,EAAQH,EAAEI,MACVC,EAASF,EAAMG,KAAK,wBACVH,EAAMG,KAAK,yBAEnBC,GAAG,SAAS,SAAUC,GAC7BA,EAAEC,iBAGEP,IAMJA,EAAmBQ,GAAGC,MAAMC,OAAOC,WAAaH,GAAGC,MAAM,CACxDG,MAAO,eACPC,OAAQ,CACPC,KAAM,gBAEPC,UAAU,KAGMV,GAAG,UAAU,WAC7BW,WAAahB,EAAiBiB,QAAQC,IAAI,aAAaC,QAAQC,SAC/DjB,EAAOkB,IAAIL,WAAWM,IACtB,IAAMC,EACLP,WAAWQ,OAASR,WAAWQ,MAAMC,UAClCT,WAAWQ,MAAMC,UAAUF,IAC3BP,WAAWO,IACftB,EACEyB,SAAS,0BACTC,KAAK,aAADC,OACSL,EAAG,8DAEnB,IAzBCvB,EAAiB6B,MA6BnB,IAEA,IAAMC,EAAW7B,EAAMyB,SAAS,0BAE5BI,EAASC,OAAS,GACrBD,EAASzB,GAAG,QAAS,yBAAyB,SAAUC,GACvDA,EAAEC,iBACFJ,EAAOkB,IAAI,IACXS,EAASH,KAAK,GACf,GAEF,GACD","sources":["webpack://wo/./src/js/media.js"],"sourcesContent":["jQuery(document).ready(function ($) {\n\tconst $womedia = $(\".woadmin-media-upload\");\n\t$womedia.each(function () {\n\t\tlet womedia_uploader;\n\t\tconst $this = $(this);\n\t\tconst $input = $this.find(\".woadmin-media-input\");\n\t\tconst $button = $this.find(\".woadmin-media-button\");\n\n\t\t$button.on(\"click\", function (e) {\n\t\t\te.preventDefault();\n\n\t\t\t//If the uploader object has already been created, reopen the dialog\n\t\t\tif (womedia_uploader) {\n\t\t\t\twomedia_uploader.open();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t//Extend the wp.media object\n\t\t\twomedia_uploader = wp.media.frames.file_frame = wp.media({\n\t\t\t\ttitle: \"Choose Media\",\n\t\t\t\tbutton: {\n\t\t\t\t\ttext: \"Choose Media\",\n\t\t\t\t},\n\t\t\t\tmultiple: false,\n\t\t\t});\n\n\t\t\twomedia_uploader.on(\"select\", function () {\n\t\t\t\tattachment = womedia_uploader.state().get(\"selection\").first().toJSON();\n\t\t\t\t$input.val(attachment.id);\n\t\t\t\tconst url =\n\t\t\t\t\tattachment.sizes && attachment.sizes.thumbnail\n\t\t\t\t\t\t? attachment.sizes.thumbnail.url\n\t\t\t\t\t\t: attachment.url;\n\t\t\t\t$this\n\t\t\t\t\t.siblings(\".woadmin-media-preview\")\n\t\t\t\t\t.html(\n\t\t\t\t\t\t`<img src=\"${url}\" alt=\"\" /><button class=\"woadmin-media-remove\">X</button>`\n\t\t\t\t\t);\n\t\t\t});\n\n\t\t\t//Open the uploader dialog\n\t\t\twomedia_uploader.open();\n\t\t});\n\n\t\tconst $preview = $this.siblings(\".woadmin-media-preview\");\n\n\t\tif ($preview.length > 0) {\n\t\t\t$preview.on(\"click\", \".woadmin-media-remove\", function (e) {\n\t\t\t\te.preventDefault();\n\t\t\t\t$input.val(\"\");\n\t\t\t\t$preview.html(\"\");\n\t\t\t});\n\t\t}\n\t});\n});\n"],"names":["jQuery","document","ready","$","each","womedia_uploader","$this","this","$input","find","on","e","preventDefault","wp","media","frames","file_frame","title","button","text","multiple","attachment","state","get","first","toJSON","val","id","url","sizes","thumbnail","siblings","html","concat","open","$preview","length"],"sourceRoot":""}